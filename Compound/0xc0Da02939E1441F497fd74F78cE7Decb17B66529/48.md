## Update and Standardize cToken Implementation

_Updated as of block [13952626](https://etherscan.io/block/13952626) at 1/6/2022, 10:17:38 AM ET_

- ID: 48
- Proposer: [0x8169522c2C57883E8EF80C498aAB7820dA539806](https://etherscan.io/address/0x8169522c2C57883E8EF80C498aAB7820dA539806)
- Start Block: 12655501 (6/17/2021, 9:39:55 PM ET)
- End Block: 12675211 (6/20/2021, 11:11:14 PM ET)
- Targets: [0x70e36f6BF80a52b3B46b3aF8e106CC0ed743E8e4](https://etherscan.io/address/0x70e36f6BF80a52b3B46b3aF8e106CC0ed743E8e4#code); [0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643](https://etherscan.io/address/0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643#code); [0xFAce851a4921ce59e912d19329929CE6da6EB0c7](https://etherscan.io/address/0xFAce851a4921ce59e912d19329929CE6da6EB0c7#code); [0x12392F67bdf24faE0AF363c24aC620a2f67DAd86](https://etherscan.io/address/0x12392F67bdf24faE0AF363c24aC620a2f67DAd86#code); [0x35A18000230DA775CAc24873d00Ff85BccdeD550](https://etherscan.io/address/0x35A18000230DA775CAc24873d00Ff85BccdeD550#code); [0xf650C3d88D12dB855b8bf7D11Be6C55A4e07dCC9](https://etherscan.io/address/0xf650C3d88D12dB855b8bf7D11Be6C55A4e07dCC9#code); [0xccF4429DB6322D5C611ee964527D42E5d685DD6a](https://etherscan.io/address/0xccF4429DB6322D5C611ee964527D42E5d685DD6a#code)

<details>
  <summary>Proposal text</summary>

> # Update and Standardize cToken Implementation
> This proposal is a patch, developed by Compound Labs, which updates the base cToken implementation contract and adopts it across all upgradable markets.
> 
> ### Changelog
> The `seize` function has been modified to transfer 2.8% of a liquidation to cToken reserves, reducing the risk of cascading liquidations that could render the protocol insolvent. With each liquidation, the protocol's ability to recover (or utilize reserves) increases.
> 
> Given the proliferation of COMP-like governance tokens, the `delegate` function has been merged into the base cToken implementation.
> 
> ### Adoption
> The seven upgradable cTokens, deployed starting 18 months ago, currently rely on five different cToken implementation contracts, many of which lack the most modern features.
> 
> This proposal unifies all upgradable cTokens with a single implementation, which reduces the surface area of technical debt, and slightly reduces gas costs.
> 
> ### Development
> This patch was developed publicly, coupled with completed scenario analysis. In addition to the Compound Labs bug bounty program, a secondary bug bounty was offered through [Immunefi](https://immunefi.com/bounty/compound/).
> 
> [Discussion](https://www.comp.xyz/t/safety-and-gas-patches/1723)
> 
</details>

### Checks
#### Reports all state changes from the proposal ✅ Passed
  




Info:
- State changes:
 - Timelock at `0x6d903f6003cca6255D85CcA4D3B5E5146dC33925`
    - `queuedTransactions` key `0x239cbf0554a2faf13a3d9abb9a6015162193e6365a351b9e00f90576949a1f27` changed from `true` to `false`
    - `queuedTransactions` key `0x2c8d671b9142c8ad579f8845b8bf165ca4353f21863a534edcb764ea911c244e` changed from `true` to `false`
    - `queuedTransactions` key `0x2c94ec9fb5eb4928906d6c1a069fb1a8e6b37374554aacca057640f89563cf75` changed from `true` to `false`
    - `queuedTransactions` key `0x453f7ba66bcb1826117245b026c63b835ad6dd5d0dea2fa5ff6cfea91aea1ca1` changed from `true` to `false`
    - `queuedTransactions` key `0x4f083751ecaa0acce7874850ef92e010af78fc819979abb4be537e8c5c683e81` changed from `true` to `false`
    - `queuedTransactions` key `0x62008b94c7512d73858fb9c09cd72a676e12c1e3fdded0c3703110081a079e60` changed from `true` to `false`
    - `queuedTransactions` key `0xd35c9f5333beaeca180de017bd8cd85deca26f2b66590f45d6f569e5ac306168` changed from `true` to `false`
 - CErc20Delegator (Compound ChainLink Token) at `0xFAce851a4921ce59e912d19329929CE6da6EB0c7`
    - `implementation` changed from `"0xa035b9e130f2b1aedc733eefb1c67ba4c503491f"` to `"0x3587b2f7e0e2d6166d6c14230e7fe160252b0ba4"`
 - CErc20Delegator (Compound Wrapped BTC) at `0xccF4429DB6322D5C611ee964527D42E5d685DD6a`
    - `implementation` changed from `"0xa035b9e130f2b1aedc733eefb1c67ba4c503491f"` to `"0x3587b2f7e0e2d6166d6c14230e7fe160252b0ba4"`
 - CErc20Delegator (Compound USDT) at `0xf650C3d88D12dB855b8bf7D11Be6C55A4e07dCC9`
    - `implementation` changed from `"0xa035b9e130f2b1aedc733eefb1c67ba4c503491f"` to `"0x3587b2f7e0e2d6166d6c14230e7fe160252b0ba4"`
 - CErc20Delegator (Compound TrueUSD) at `0x12392F67bdf24faE0AF363c24aC620a2f67DAd86`
    - `implementation` changed from `"0xa035b9e130f2b1aedc733eefb1c67ba4c503491f"` to `"0x3587b2f7e0e2d6166d6c14230e7fe160252b0ba4"`
 - CErc20Delegator (Compound Collateral) at `0x70e36f6BF80a52b3B46b3aF8e106CC0ed743E8e4`
    - `implementation` changed from `"0xa035b9e130f2b1aedc733eefb1c67ba4c503491f"` to `"0x3587b2f7e0e2d6166d6c14230e7fe160252b0ba4"`
 - GovernorBravoDelegator at `0xc0Da02939E1441F497fd74F78cE7Decb17B66529`
    - Slot `0x827b43d7b5df5f84fd4b18cce10d024e57edb92595e42f215cd9b8967d5d096e` changed from `"0x0000000000000000000000000000000000000000000000000000000000000000"` to `"0x0000000000000000000000000000000000000000000000000000000000000100"`
 - CErc20Delegator (Compound Uniswap) at `0x35A18000230DA775CAc24873d00Ff85BccdeD550`
    - `implementation` changed from `"0xa035b9e130f2b1aedc733eefb1c67ba4c503491f"` to `"0x3587b2f7e0e2d6166d6c14230e7fe160252b0ba4"`
 - CErc20Delegator (Compound Dai) at `0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643`
    - `implementation` changed from `"0xa035b9e130f2b1aedc733eefb1c67ba4c503491f"` to `"0x3587b2f7e0e2d6166d6c14230e7fe160252b0ba4"`

#### Check all targets are verified on Etherscan ✅ Passed
  




Info:
- Targets:
    - 0x70e36f6BF80a52b3B46b3aF8e106CC0ed743E8e4: Contract (verified)
    - 0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643: Contract (verified)
    - 0xFAce851a4921ce59e912d19329929CE6da6EB0c7: Contract (verified)
    - 0x12392F67bdf24faE0AF363c24aC620a2f67DAd86: Contract (verified)
    - 0x35A18000230DA775CAc24873d00Ff85BccdeD550: Contract (verified)
    - 0xf650C3d88D12dB855b8bf7D11Be6C55A4e07dCC9: Contract (verified)
    - 0xccF4429DB6322D5C611ee964527D42E5d685DD6a: Contract (verified)

#### Check all touched contracts are verified on Etherscan ✅ Passed
  




Info:
- Touched address:
    - 0xD73a92Be73EfbFcF3854433A5FcbAbF9c1316073: EOA (verification not applicable)
    - 0xc0Da02939E1441F497fd74F78cE7Decb17B66529: Contract (verified)
    - 0x563A63d650a5D259abAE9248dddC6867813d3f87: Contract (verified)
    - 0x6d903f6003cca6255D85CcA4D3B5E5146dC33925: Contract (verified)
    - 0x70e36f6BF80a52b3B46b3aF8e106CC0ed743E8e4: Contract (verified)
    - 0xa035b9e130F2B1AedC733eEFb1C67Ba4c503491F: Contract (verified)
    - 0x3587b2F7E0E2D6166d6C14230e7Fe160252B0ba4: Contract (verified)
    - 0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643: Contract (verified)
    - 0xFAce851a4921ce59e912d19329929CE6da6EB0c7: Contract (verified)
    - 0x12392F67bdf24faE0AF363c24aC620a2f67DAd86: Contract (verified)
    - 0x35A18000230DA775CAc24873d00Ff85BccdeD550: Contract (verified)
    - 0xf650C3d88D12dB855b8bf7D11Be6C55A4e07dCC9: Contract (verified)
    - 0xccF4429DB6322D5C611ee964527D42E5d685DD6a: Contract (verified)
