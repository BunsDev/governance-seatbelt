## Fix COMP Accrual Bug

_Updated as of block [13980041](https://etherscan.io/block/13980041) at 1/10/2022, 4:02:19 PM ET_

- ID: 64
- Proposer: [0xc8A69971DAa3C3ADd85Ab0d0AF297515769ddfFC](https://etherscan.io/address/0xc8A69971DAa3C3ADd85Ab0d0AF297515769ddfFC)
- Start Block: 13350432 (10/4/2021, 12:15:28 AM ET)
- End Block: 13370142 (10/7/2021, 2:10:01 AM ET)
- Targets: [0x3d9819210A31b4961b30EF54bE2aeD79B9c9Cd3B](https://etherscan.io/address/0x3d9819210A31b4961b30EF54bE2aeD79B9c9Cd3B#code); [0x234B619B4f4E405665F7d94F2CE60c24256032B5](https://etherscan.io/address/0x234B619B4f4E405665F7d94F2CE60c24256032B5#code)

<details>
  <summary>Proposal text</summary>

> # Fix COMP Accrual Bug
> ## Objective
> 
> Patch the bug introduced in Proposal 62 and pessimistically allow COMP reward withdrawals until the bad COMP accruals can be fixed.
> 
> ## Justification
> 
> [Proposal 62](https://compound.finance/governance/proposals/62) introduced a bug in the COMP distribution logic that allowed users borrowing certain assets to claim more than their intended share of COMP. 
> [Proposal 63](https://compound.finance/governance/proposals/63) prevents further COMP from being distributed until the correct logic is restored but causes issues for protocols that integrated with Compound and required the claim functionality.
> 
> ## Details 
> 
> These changes fix accurals for the affected markets (cTUSD, cMKR, cSUSHI, cYFI, cAAVE, and cSAI) and pessimistically [1] enbles COMP distribution again.
> 
> [1] Only users who have not interacted with the affected markets will be able to withdraw their accrued COMP.
> 
> Note: To claim COMP successfully, not only must you not have interacted with the affected markets, you must also not try claiming COMP for the affected markets.
> 
> Please use either `Comptroller#claimComp(address holder, CToken[] markets)` or `Comptroller#claimComp(address holder, CToken[] markets, bool borrowers, bool suppliers)` with **only** the unaffected markets.
> 
> After this proposal passes, we'll have a state where we'll be able to compute an exhaustive list of users with bad COMP accrual values. From there, we'll submit another proposal to fix the bad COMP accrual values and return everything to normal.
> 
> ## Review
> While this has been tested, we will do further testing during the review period, and we implore the community to check the proposal.
> 
> ## References
> - [Forum Thread](https://www.comp.xyz/t/compound-proposal-63-temporary-patch-for-comp-distribution-bug-9-29-21/2327)
</details>

### Checks
#### Reports all state changes from the proposal ✅ Passed
  




Info:
- State changes:
    - Unitroller at `0x3d9819210A31b4961b30EF54bE2aeD79B9c9Cd3B`
        - `comptrollerImplementation` changed from `0x374abb8ce19a73f2c4efad642bda76c797f19233` to `0x234b619b4f4e405665f7d94f2ce60c24256032b5`

#### Reports all events emitted from the proposal ✅ Passed
  




Info:
- Events Emitted:
    - Unitroller at `0x3d9819210A31b4961b30EF54bE2aeD79B9c9Cd3B`
        - `NewPendingImplementation(oldPendingImplementation: 0x0000000000000000000000000000000000000000, newPendingImplementation: 0x234b619b4f4e405665f7d94f2ce60c24256032b5)`
        - `NewImplementation(oldImplementation: 0x374abb8ce19a73f2c4efad642bda76c797f19233, newImplementation: 0x234b619b4f4e405665f7d94f2ce60c24256032b5)`
        - `NewPendingImplementation(oldPendingImplementation: 0x234b619b4f4e405665f7d94f2ce60c24256032b5, newPendingImplementation: 0x0000000000000000000000000000000000000000)`

#### Check all targets are verified on Etherscan ✅ Passed
  




Info:
- Targets:
    - 0x3d9819210A31b4961b30EF54bE2aeD79B9c9Cd3B: Contract (verified)
    - 0x234B619B4f4E405665F7d94F2CE60c24256032B5: Contract (verified)

#### Check all touched contracts are verified on Etherscan ✅ Passed
  




Info:
- Touched address:
    - 0xc8A69971DAa3C3ADd85Ab0d0AF297515769ddfFC: EOA (verification not applicable)
    - 0xc0Da02939E1441F497fd74F78cE7Decb17B66529: Contract (verified)
    - 0x563A63d650a5D259abAE9248dddC6867813d3f87: Contract (verified)
    - 0x6d903f6003cca6255D85CcA4D3B5E5146dC33925: Contract (verified)
    - 0x3d9819210A31b4961b30EF54bE2aeD79B9c9Cd3B: Contract (verified)
    - 0x234B619B4f4E405665F7d94F2CE60c24256032B5: Contract (verified)
